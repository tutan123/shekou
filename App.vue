<script>
export default {
  onLaunch() {
    console.log('è›‡å£å¯¼è§ˆå¯åŠ¨æˆåŠŸ');

    // åˆå§‹åŒ–äº‘å¼€å‘ç¯å¢ƒ
    if (!wx.cloud) {
      console.error('è¯·ä½¿ç”¨ 2.2.3 æˆ–ä»¥ä¸Šçš„åŸºç¡€åº“ä»¥ä½¿ç”¨äº‘èƒ½åŠ›');
    } else {
      wx.cloud.init({
        env: 'cloud1-1g2i7u3rb32a6ede', // ä½ çš„äº‘ç¯å¢ƒID
        traceUser: true,
      });
      console.log('â˜ï¸ äº‘å¼€å‘ç¯å¢ƒåˆå§‹åŒ–æˆåŠŸ');
    }

    // æ£€æŸ¥ç½‘ç»œçŠ¶æ€
    uni.getNetworkType({
      success: (res) => {
        console.log('ğŸŒ ç½‘ç»œçŠ¶æ€:', res.networkType);
        if (res.networkType === 'none') {
          uni.showToast({
            title: 'ç½‘ç»œè¿æ¥å¤±è´¥',
            icon: 'none',
            duration: 3000
          });
        }
      }
    });

    // ç›‘å¬ç½‘ç»œçŠ¶æ€å˜åŒ–
    uni.onNetworkStatusChange((res) => {
      console.log('ğŸŒ ç½‘ç»œçŠ¶æ€å˜åŒ–:', res.networkType, res.isConnected);
      if (!res.isConnected) {
        uni.showToast({
          title: 'ç½‘ç»œå·²æ–­å¼€',
          icon: 'none',
          duration: 2000
        });
      } else if (res.networkType === 'none') {
        uni.showToast({
          title: 'æ— ç½‘ç»œè¿æ¥',
          icon: 'none',
          duration: 2000
        });
      }
    });
  }
}
</script>

<style lang="scss">
/* å…¨å±€æ ·å¼ */
page {
  min-height: 100vh;
  background-color: #FFF9E6;
}

::-webkit-scrollbar {
  display: none;
  width: 0 !important;
  height: 0 !important;
}
</style>
